<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Code-a-Pookkalam</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="controls">
    <h1>ðŸŒ¸ Code-a-Pookkalam ðŸŒ¸</h1>
    <div class="slider-group">
      <label>Inner Layer Petals: <span id="innerCount">12</span></label>
      <input type="range" id="innerPetals" min="6" max="40" value="12">
    </div>
    <div class="slider-group">
      <label>Middle Layer Petals: <span id="middleCount">18</span></label>
      <input type="range" id="middlePetals" min="8" max="60" value="18">
    </div>
    <div class="slider-group">
      <label>Outer Layer Petals: <span id="outerCount">24</span></label>
      <input type="range" id="outerPetals" min="12" max="80" value="24">
    </div>
    <div>
      <label><input type="checkbox" id="emojiBorder" checked> Add Flower Emoji Borders ðŸŒ¼</label>
    </div>
  </div>

  <svg id="pookkalam" viewBox="-200 -200 400 400" xmlns="http://www.w3.org/2000/svg">
    <!-- Rings drawn here dynamically -->
  </svg>

  <script>
    const innerSlider = document.getElementById("innerPetals");
    const middleSlider = document.getElementById("middlePetals");
    const outerSlider = document.getElementById("outerPetals");
    const emojiBorder = document.getElementById("emojiBorder");
    const innerCountLabel = document.getElementById("innerCount");
    const middleCountLabel = document.getElementById("middleCount");
    const outerCountLabel = document.getElementById("outerCount");
    const svg = document.getElementById("pookkalam");

    function drawLayer(count, radius, color, emoji) {
      const group = document.createElementNS("http://www.w3.org/2000/svg", "g");
      for (let i = 0; i < count; i++) {
        const angle = (2 * Math.PI * i) / count;
        const x = radius * Math.cos(angle);
        const y = radius * Math.sin(angle);

        // Petal shape
        const petal = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        petal.setAttribute("cx", x);
        petal.setAttribute("cy", y);
        petal.setAttribute("r", 15);
        petal.setAttribute("fill", color);
        group.appendChild(petal);

        // Emoji border
        if (emojiBorder.checked && emoji) {
          const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
          text.setAttribute("x", x);
          text.setAttribute("y", y);
          text.setAttribute("text-anchor", "middle");
          text.setAttribute("dominant-baseline", "middle");
          text.setAttribute("font-size", "16px");
          text.textContent = emoji;
          group.appendChild(text);
        }
      }
      return group;
    }

    function drawPookkalam() {
      svg.innerHTML = "";
      innerCountLabel.textContent = innerSlider.value;
      middleCountLabel.textContent = middleSlider.value;
      outerCountLabel.textContent = outerSlider.value;

      svg.appendChild(drawLayer(innerSlider.value, 50, "#ff6699", "ðŸŒ¸"));
      svg.appendChild(drawLayer(middleSlider.value, 90, "#ffcc00", "ðŸŒ¼"));
      svg.appendChild(drawLayer(outerSlider.value, 140, "#ff9933", "ðŸŒº"));
    }

    [innerSlider, middleSlider, outerSlider, emojiBorder].forEach(el => {
      el.addEventListener("input", drawPookkalam);
    });

    drawPookkalam();
  </script>
</body>
</html>
